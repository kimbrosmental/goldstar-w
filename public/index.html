<!DOCTYPE html>
<html lang="ko" id="top">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>íšŒì‚¬ í™ˆí˜ì´ì§€</title>
  <meta name="robots" content="noindex, nofollow, noarchive, nosnippet">
  <meta http-equiv="Referrer-Policy" content="no-referrer">
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <style>
    /* Intro Fullscreen */
    #introOverlay{position:fixed;inset:0;z-index:99999;background:#000;display:flex;align-items:center;justify-content:center;opacity:1;transition:opacity .5s ease;}
    #introOverlay.hidden{opacity:0;pointer-events:none;}
    #introOverlay img{
      width:100vw;
      height:100vh;
      object-fit:cover;
      /* GPU ê°€ì† ë° ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•œ ì†ì„± */
      will-change:transform;
      transform:translateZ(0);
      backface-visibility:hidden;
      -webkit-backface-visibility:hidden;
      /* ë¸Œë¼ìš°ì €ë³„ ë¶€ë“œëŸ¬ìš´ ë Œë”ë§ */
      image-rendering:-webkit-optimize-contrast;
      image-rendering:-moz-crisp-edges;
      image-rendering:crisp-edges;
      /* ì•ˆí‹°ì—ì¼ë¦¬ì–´ì‹± */
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    /* ---------------- Section2 ë ˆì´ì•„ì›ƒ ì¡°ì • ---------------- */
    #section2 .content {
      padding-top: 20px;
      padding-bottom: 20px;
      height: auto;
    }
    #section2 .story-content h2 {
      margin-bottom: 16px;
    }
    #section2 .story-grid {
      margin-bottom: 24px;
    }

    /* ---------------- Carousel ìŠ¤íƒ€ì¼ ---------------- */
    .carousel-wrapper {
      overflow: hidden;
      width: 100%;
      margin-top: 16px;
    }
    .carousel-track {
      display: flex;
      gap: 20px;
      /* â†“ ì†ë„ ì¡°ì ˆ: 5s â†’ ì›í•˜ëŠ” ê°’ìœ¼ë¡œ ë³€ê²½ */
      animation: scroll 40s linear infinite;
    }
    .carousel-item {
      flex: 0 0 auto;
      width: 400px;
      max-width: 400px;
    }
    .carousel-item img {
      width: 100%;
      height: auto;
      max-height: 400px;
      object-fit: contain;
      display: block;
    }
    .carousel-item p {
      text-align: center;
      margin-top: 8px;
      color: #fff;
      font-size: 16px;
    }
    @keyframes scroll {
      0%   { transform: translateX(0); }
      100% { transform: translateX(-6760px); } /* 500Ã—13 + 20Ã—13 */
    }

    /* ---- Section1 gold-bar ì´ë¯¸ì§€ ë°˜ì‘í˜• ìˆ¨ê¹€ ---- */
    @media (max-width:1024px) {
      #section1 .price-image { display: none !important; }
      #section1 .gold-content { justify-content: center; }
    }
    @media (max-width:768px) {
      #section1 .price-image { display: none !important; }
      #section1 .gold-content { justify-content: center; flex-direction: column; }
    }

    /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì¶”ê°€ */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 12px 24px;
      font-size: 16px;
      font-weight: bold;
      color: #fff;
      background-color: #d4af37;
      border: none;
      border-radius: 8px;
      text-decoration: none;
      transition: background-color 0.3s, transform 0.3s;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }
    .btn-icon {
      margin-right: 8px;
      font-size: 18px;
    }
    .btn:before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 300%;
      height: 300%;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      transition: transform 0.3s;
      z-index: 0;
      transform: translate(-50%, -50%) scale(0);
    }
    .btn:hover:before {
      transform: translate(-50%, -50%) scale(1);
    }
    .btn:hover {
      background-color: #b5942b;
      transform: translateY(-2px);
    }
    .btn:active {
      transform: translateY(0);
    }
  </style>
</head>
<body>

  <!-- Intro overlay (plays once per session, now MP4 for smooth playback) -->
  <div id="introOverlay" aria-hidden="true" role="dialog">
    <video id="introVideo" autoplay muted playsinline preload="auto" style="width:100vw;height:100vh;object-fit:cover;" poster="img/logo.png">
      <source src="https://www.dropbox.com/scl/fi/uxylpdl0eyj9ebivrr1db/gold-intro.mp4?rlkey=tfs5khgzwo6xsyxkh83u7pj71&raw=1" type="video/mp4" />
      ë¸Œë¼ìš°ì €ê°€ ì¸íŠ¸ë¡œ ì˜ìƒì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    </video>
  </div>

  <nav id="navbar">
    <div class="container">
  <div class="logo"><img src="img/logo.png" alt="ê³¨ë“œìŠ¤íƒ€ ë¡œê³ "></div>
  <div class="nav-center">
        <ul class="nav-links">
          <li><a href="#section1">ì†Œê°œ</a></li>
          <li><a href="#section2">ì§„í–‰</a></li>
          <li><a href="#section3">ì˜ìƒ</a></li>
          <li><a href="#section4">ì´ë ¥</a></li>
          <li><a href="#section5">ë¬¸ì˜</a></li>
        </ul>
      </div>
      <div class="nav-right">
  <!-- ë²ˆì—­/ì–¸ì–´ ì„ íƒ ì œê±° -->
        <div id="userArea" class="user-area"></div>
  <div class="menu-btn" data-i18n-aria="aria_menu_open" aria-label="ë©”ë‰´ ì—´ê¸°" role="button" tabindex="0">
          <span></span><span></span><span></span>
        </div>
      </div>
    </div>
    <div id="scroll-progress"></div>
  </nav>

  <div id="floatingButtons">
    <button id="scrollToTop" title="ë§¨ ìœ„ë¡œ" aria-label="ë§¨ ìœ„ë¡œ"><i class="fas fa-arrow-up"></i></button>
  </div>
  <div class="fixed-social-icons">
    <a href="#" class="social-icon">
      <img src="img/í…”ë ˆê·¸ë¨ ë¬¸ì˜.png" class="kakao-static" alt="ì¹´ì¹´ì˜¤í†¡ ìƒë‹´">
      <img src="img/í…”ë ˆê·¸ë¨ ë¬¸ì˜2.gif" class="kakao-hover" alt="ì¹´ì¹´ì˜¤í†¡ ìƒë‹´">
    </a>
  </div>

  <main>
    <!-- Section1 -->
    <section id="section1" class="section">
      <div class="content">
        <h2 class="hook">
          <span class="line line1" data-i18n="hook_line1">â€œê¸ˆì€ ê²°êµ­ ì˜¤ë¥¸ë‹¤.â€</span>
          <span class="line line2" data-i18n="hook_line2">â€œë‹¤ë§Œ, í•©ë¦¬ì  ê¸ˆì•¡ì— ì‚´ ìˆ˜ ìˆëŠ” ìˆœê°„ì€ ì§§ë‹¤.â€</span>
          <span class="line line3" data-i18n="hook_line3">ì§€ê¸ˆì´ ë°”ë¡œ ê·¸ ìˆœê°„ì…ë‹ˆë‹¤,</span>
          <span class="line line4"><strong data-i18n="hook_line4">ì¤€ë¹„ë˜ì…¨ë‚˜ìš”?</strong></span>
          <span class="shine-bar" aria-hidden="true"></span>
        </h2>
        <div class="price-box gold-box" id="priceBox">
          <div class="gold-content">
            <img src="img/gold-bar.jpg" class="price-image" alt="ê³¨ë“œë°” ì´ë¯¸ì§€">
            <div class="gold-text">
              <h2 class="price-title">ì˜¤ëŠ˜ì˜ ê¸ˆ ì‹œì„¸ (3.75g)</h2>
              <div id="mainPrice" class="main-price">ë¡œë”©ì¤‘â€¦</div>
              <div id="priceChange" class="change-line"></div>
              <span class="compare-note">[ì „ì¼ ê¸°ì¤€ ì‹œì„¸ë³€ë™í­]</span>
            </div>
          </div>
        </div>
        <div class="price-box supply-box">
          <h2 class="price-title supply">ê³µê¸‰ ê°€ê²© (3.75g)</h2>
          <div class="main-price supply-price">520,000ì›</div>
          <div class="supply-footer">
            <span class="change-line">â€“</span>
            <span class="compare-note">[í˜„ ì‹œì„¸ ê¸°ì¤€ê³¼ ë¹„êµ]</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Section2: ì§„í–‰ -->
    <section id="section2" class="section">
      <div class="content">
        <div class="story-content">
          <h2>ê²€ì€ ëŒ€ë¥™ì˜ ê¸ˆë§¥</h2>
          <div class="story-grid">
            <div class="story-item"><h3>3ì–µ2ì²œë§Œí†¤</h3><p>2023ë…„ ìš°ê°„ë‹¤ ê¸ˆ ë§¤ì¥ëŸ‰ ë°œê²¬</p></div>
            <div class="story-item"><h3>ê¸€ë¡œë²Œ ì£¼ëª©</h3><p>12ì¡°ì› ê°€ì¹˜í‰ê°€, CNN, BBC ë“± í•´ì™¸ ì–¸ë¡  ì§‘ì¤‘ ë³´ë„</p></div>
            <div class="story-item"><h3>ë…ì  ê³„ì•½</h3><p>ìš°ê°„ë‹¤ ê¸ˆë§¥, ì¤‘êµ­ ê´‘ì‚°ì—…ì²´ë“¤ê³¼ ì±„êµ´ ë…ì  ê³„ì•½ ì²´ê²° â†’ ê³¨ë“œ ìŠ¤íƒ€, ì¤‘êµ­ ì—…ì²´ì™€ ìˆ˜ì…ê³„ì•½ ì²´ê²°</p></div>
          </div>
        </div>
        <div class="carousel-wrapper">
          <div class="carousel-track" id="carousel-track"></div>
        </div>
      </div>
    </section>

    <!-- Section3 -->
    <section id="section3" class="section">
      <div class="content">
        <div class="process-content">
          <h2>ìœ í†µ êµ¬ì¡°ì˜ í˜ì‹ </h2>
          <!-- ìƒë‹¨ í–‰: ì¢Œì¸¡ ì„¤ëª…, ìš°ì¸¡ ì˜ìƒ -->
          <div class="video-row top">
            <div class="desc">ìƒë‹¨ ì˜ìƒ ì„¤ëª…ì„ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”.</div>
            <div class="video-wrap">
              <video controls width="600" playsinline preload="metadata" autoplay muted loop disablepictureinpicture controlsList="nodownload noplaybackrate">
                <source src="https://www.dropbox.com/scl/fi/efoo333ngirzngmdrurd4/movie-1.mp4?rlkey=v24nt37cux82nn9aazn261rhv&raw=1" type="video/mp4" />
                <span>ë¸Œë¼ìš°ì €ê°€ ë™ì˜ìƒì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</span>
              </video>
            </div>
          </div>
          <!-- í•˜ë‹¨ í–‰: ì¢Œì¸¡ ì˜ìƒ, ìš°ì¸¡ ì„¤ëª… -->
          <div class="video-row bottom">
            <div class="video-wrap">
              <video controls width="600" playsinline preload="metadata" autoplay muted loop disablepictureinpicture controlsList="nodownload noplaybackrate">
                <source src="https://www.dropbox.com/scl/fi/71q6v1ntaebtudq2ttpwq/movie-2.mp4?rlkey=7xw94d6yho2bcf3b6l4wsarse&raw=1" type="video/mp4" />
                <span data-i18n="video_not_supported">ë¸Œë¼ìš°ì €ê°€ ë™ì˜ìƒì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</span>
              </video>
            </div>
            <div class="desc">í•˜ë‹¨ ì˜ìƒ ì„¤ëª…ì„ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Section4 -->
    <section id="section4" class="section">
      <div class="content">
        <div class="achievement-content">
          <h2>ì‹¤ì œ ê³µê¸‰ ì„±ê³¼</h2>
          <div class="achievement-grid">
            <div class="achievement-item"><h3>55kg</h3><p>ì´ ê³µê¸‰ ì™„ë£ŒëŸ‰</p></div>
            <div class="achievement-item"><h3>18.4%</h3><p>ì‹œì„¸ ëŒ€ë¹„ í‰ê·  í• ì¸ìœ¨</p></div>
            <div class="achievement-item"><h3>1,581ëª…</h3><p>ëˆ„ì  ì°¸ì—¬ íšŒì›</p></div>
          </div>
          <div class="trade-history-box">
            <h3 class="trade-history-title">ì£¼ìš” ì´ë ¥</h3>
            <div class="trade-grid">
              <div class="achievement-item trade-card">
                <div class="trade-card-header">
                  <span class="trade-card-icon">ğŸ“</span>
                  <span class="trade-card-title">2020ë…„ 3ì›” 15ì¼ Â· ìš°ê°„ë‹¤</span>
                </div>
                <div class="trade-card-body">
                  <div class="trade-card-row"><b>ì°¸ì—¬ ì¸ì›:</b> 7ëª… (êµ¬ë§¤íŒ€ 3, í’ˆì§ˆê²€ìˆ˜ 2, ë¬¼ë¥˜/ë³´í—˜ 2)</div>
                  <div class="trade-card-row"><b>ìˆ˜ì… ë¬¼ëŸ‰:</b> 18kg ê¸ˆê´´ (ì•½ $580,000)</div>
                  <div class="trade-card-row"><b>ì´ ìˆ˜ì…:</b> 4,800ëˆ</div>
                  <div class="trade-card-row"><b>ê±°ë˜ ë‚´ìš©:</b> ìš°ê°„ë‹¤ ì„œë¶€ Mubende ì§€ì—­ ì›ê´‘ ì •ì œ í›„ ìˆ˜ì¶œ, ê³µì‹ ê³„ì•½ ë° í—ˆê°€, ì¸ì²œê³µí•­ ë„ì°© í›„ í†µê´€.</div>
                  <div class="trade-card-row"><b>íŠ¹ì§•:</b> ì²« ì•„í”„ë¦¬ì¹´ ì§ë„ì…, ì¼ë¶€ëŠ” íˆ¬ìí˜• ê³¨ë“œë°” ì œì‘.</div>
                </div>
                <div class="trade-card-summary">
                  <span><b>êµ­ì œ ì‹œì„¸:</b> $1,530/oz (1g â‰ˆ $49.2)</span>
                  <span><b>í™˜ìœ¨:</b> 1USD â‰ˆ 1,220ì›</span>
                  <span><b>ì´ ê¸ˆì•¡:</b> $885,600 / ì•½ 10.8ì–µì›</span>
                </div>
              </div>
              <div class="achievement-item trade-card">
                <div class="trade-card-header">
                  <span class="trade-card-icon">ğŸ“</span>
                  <span class="trade-card-title">2023ë…„ 11ì›” 8ì¼ Â· ìš°ê°„ë‹¤</span>
                </div>
                <div class="trade-card-body">
                  <div class="trade-card-row"><b>ì°¸ì—¬ ì¸ì›:</b> 12ëª… (êµ¬ë§¤íŒ€ 4, ê°ì • 2, ë¬¼ë¥˜ 4, ë³´í—˜ 2)</div>
                  <div class="trade-card-row"><b>ìˆ˜ì… ë¬¼ëŸ‰:</b> 32kg ê¸ˆê´´ + 5kg ê¸ˆì„ </div>
                  <div class="trade-card-row"><b>ì´ ìˆ˜ì…:</b> 9,867ëˆ</div>
                  <div class="trade-card-row"><b>ê±°ë˜ ë‚´ìš©:</b> ìš°ê°„ë‹¤ ê¸ˆê´‘ â†’ ì •ì œì†Œ â†’ ë‘ë°”ì´ ê²½ìœ  â†’ í•œêµ­, ìˆœë„ ì¸ì¦ì„œ í™•ë³´, ì„œìš¸ ë³´ì„¸ì°½ê³  ë³´ê´€.</div>
                  <div class="trade-card-row"><b>íŠ¹ì§•:</b> ì—°ê°„ ìˆ˜ì…ëŸ‰ 25% ê·œëª¨, ì£¼ì–¼ë¦¬ ì œì‘ í™œìš©.</div>
                </div>
                <div class="trade-card-summary">
                  <span><b>êµ­ì œ ì‹œì„¸:</b> $1,950/oz (1g â‰ˆ $62.7)</span>
                  <span><b>í™˜ìœ¨:</b> 1USD â‰ˆ 1,300ì›</span>
                  <span><b>ì´ ê¸ˆì•¡:</b> $2,319,900 / ì•½ 30.1ì–µì›</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Section5 -->
    <section id="section5" class="section">
      <div class="content center">
  <h2 class="section5-title">ì§€ê¸ˆ ë°”ë¡œ ë¬¸ì˜í•˜ì„¸ìš”</h2>
  <p class="section5-text">ê³¨ë“œìŠ¤íƒ€ì™€ í•¨ê»˜ ìƒˆë¡œìš´ íˆ¬ìì˜ ê¸°íšŒë¥¼ ì‹œì‘í•˜ì„¸ìš”</p>
        <div class="contact-buttons">
          <a href="#"><img src="img/ì¹´ì¹´ì˜¤í†¡ ë¬¸ì˜.gif" alt="ì¹´ì¹´ì˜¤í†¡ ë¬¸ì˜"/></a>
          <a href="#"><img src="img/í…”ë ˆê·¸ë¨ ë¬¸ì˜.gif" alt="í…”ë ˆê·¸ë¨ ë¬¸ì˜"/></a>
        </div>
      </div>
    </section>

    <!-- ë©”ì¸ ì•¡ì…˜ ë²„íŠ¼ ì˜ì—­ (ì˜ˆì‹œ ìœ„ì¹˜) -->
    <div class="main-action-buttons" style="display:flex;justify-content:center;gap:32px;margin:40px 0 0 0;">
      <a href="/signup" class="btn gold-btn" aria-label="íšŒì›ê°€ì…">
        <span class="btn-icon">ğŸ“</span> íšŒì›ê°€ì…
      </a>
      <a href="/login" class="btn gold-btn" aria-label="ë¡œê·¸ì¸">
        <span class="btn-icon">ğŸ”‘</span> ë¡œê·¸ì¸
      </a>
    </div>

    <!-- Footer -->
    <footer class="company-info">
      <div class="info-content">
        <div class="company-info-grid">
          <div class="info-section">
            <h3>íšŒì‚¬ ì •ë³´</h3>
            <p>ìƒí˜¸ëª…: ê³¨ë“œìŠ¤íƒ€</p>
            <p>ëŒ€í‘œì´ì‚¬: í™ê¸¸ë™</p>
            <p>ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸: 123-45-67890</p>
            <p>í†µì‹ íŒë§¤ì—…: ì œ2025-ì„œìš¸ê°•ë‚¨-0000í˜¸</p>
          </div>
          <div class="info-section">
            <h3>ì—°ë½ì²˜</h3>
            <p>ì£¼ì†Œ: ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123</p>
            <p>ëŒ€í‘œì „í™”: 02-1234-5678</p>
            <p>ì´ë©”ì¼: info@goldstar.com</p>
            <p>íŒ©ìŠ¤: 02-1234-5679</p>
          </div>
          <div class="info-section">
            <h3>ê³ ê°ì§€ì›</h3>
            <p>ìš´ì˜ì‹œê°„: í‰ì¼ 09:00 - 18:00</p>
            <p>ì ì‹¬ì‹œê°„: 12:00 - 13:00</p>
            <p>í† /ì¼/ê³µíœ´ì¼ íœ´ë¬´</p>
          </div>
        </div>
      </div>
    </footer>
  </main>

  <script src="hover-gif.js"></script>
  <script src="app.js"></script>
  <script>

    // Intro overlay: MP4 ë¹„ë””ì˜¤ë¡œ 1íšŒë§Œ ì¬ìƒ, ë””ì¡¸ë¸Œ íš¨ê³¼ë¡œ ì‚¬ë¼ì§
    (function(){
      const overlay=document.getElementById('introOverlay');
      const video=document.getElementById('introVideo');
      if(!overlay||!video) return;
      const played=sessionStorage.getItem('intro_played_v2');
      if(played){ overlay.style.display='none'; return; }
      function hide(){
        overlay.classList.add('hidden');
        setTimeout(()=>{
          overlay.style.display='none';
          document.body.style.overflow='';
          document.documentElement.style.overflow='';
        }, 550);
        sessionStorage.setItem('intro_played_v2','1');
      }
      document.documentElement.style.overflow='hidden';
      document.body.style.overflow='hidden';
      let autoHideTimer;
      const skipIntro = () => {
        if (autoHideTimer) clearTimeout(autoHideTimer);
        hide();
      };
      video.onended = hide;
      video.onerror = hide;
      // ë§Œì•½ ë¹„ë””ì˜¤ê°€ ë„ˆë¬´ ê¸¸ê±°ë‚˜ ì˜¤ë¥˜ì‹œ 20ì´ˆ í›„ ìë™ skip
      autoHideTimer = setTimeout(hide, 20000);
      overlay.addEventListener('click', skipIntro);
      overlay.addEventListener('touchstart', skipIntro);
      document.addEventListener('keydown', skipIntro);
      document.addEventListener('visibilitychange', () => {
        if (document.hidden && autoHideTimer) clearTimeout(autoHideTimer);
      });
    })();

    // Extra best-effort content protection for this page
    document.addEventListener('contextmenu', e=> e.preventDefault());
    document.addEventListener('dragstart', e=> e.preventDefault());
    document.addEventListener('copy', e=> { e.clipboardData?.setData('text/plain',''); e.preventDefault(); });
    document.addEventListener('keydown', e=>{
      if((e.ctrlKey||e.metaKey) && ['s','p','u','c'].includes(e.key.toLowerCase())) e.preventDefault();
      if(e.key==='F12' || (e.ctrlKey && e.shiftKey && ['I','i','J','j','C','c'].includes(e.key))) e.preventDefault();
    });
    document.addEventListener('DOMContentLoaded',()=>{ document.querySelectorAll('img,video').forEach(el=>{ el.setAttribute('draggable','false'); el.setAttribute('oncontextmenu','return false'); }); });
    // ===== ë„¤ë¹„ê²Œì´ì…˜ ìŠ¤í¬ë¡¤ í˜ì´ë“œ (ì•„ë˜ ìŠ¤í¬ë¡¤ì‹œ ìœ„ë¡œ ë””ì¡¸ë¸Œ ì‚¬ë¼ì§, ë§¨ ìœ„ ë³µê·€ì‹œ í˜ì´ë“œ ì¸) =====
    (function(){
      let lastY = window.scrollY;
      const nav = document.getElementById('navbar');
      const thresholdHide = 40; // ì¡°ê¸ˆë§Œ ë‚´ë ¤ë„ ìˆ¨ê¹€ ì‹œì‘
      let forcedShow = false;
      function handleScroll(){
        if(forcedShow){return;} // ë§ˆìš°ìŠ¤ ìµœìƒë‹¨ ê°•ì œ í‘œì‹œ ìƒíƒœ
        const y = window.scrollY;
        if (y > thresholdHide) {
          if (y > lastY) { // ì•„ë˜ë¡œ
            nav.classList.add('nav-hidden');
          } else { // ìœ„ë¡œ ì˜¬ë¦¼
            nav.classList.remove('nav-hidden');
          }
        } else {
          nav.classList.remove('nav-hidden');
        }
        lastY = y;
      }
      window.addEventListener('scroll', handleScroll);
      // ë§ˆìš°ìŠ¤ê°€ í™”ë©´ ìµœìƒë‹¨(ì˜ˆ: 24px) ì˜ì—­ì— ë“¤ì–´ì˜¤ë©´ ë„¤ë¹„ê²Œì´ì…˜ í‘œì‹œ
      window.addEventListener('mousemove', e => {
        if (e.clientY <= 24) {
          forcedShow = true;
          nav.classList.remove('nav-hidden');
          // 1.5ì´ˆ í›„ ìŠ¤í¬ë¡¤ ë°©í–¥ ë‹¤ì‹œ ì ìš©
          clearTimeout(window.__navForceTimer);
          window.__navForceTimer = setTimeout(()=>{ forcedShow=false; handleScroll(); },1500);
        }
      });
    })();

    // ë©”ë‰´ í† ê¸€
  const menuBtn = document.querySelector('.menu-btn');
  const navLinks = document.querySelector('.nav-links');
    menuBtn.addEventListener('click', () => {
      menuBtn.classList.toggle('active');
      navLinks.classList.toggle('active');
    });
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', e => {
        const t = document.querySelector(a.getAttribute('href'));
        if (t) {
          e.preventDefault();
          t.scrollIntoView({ behavior:'smooth', block:'start' });
        }
      });
    });
    document.querySelectorAll('.nav-links a').forEach(l => {
      l.addEventListener('click', () => {
        menuBtn.classList.remove('active');
        navLinks.classList.remove('active');
      });
    });

  // ìŠ¤í¬ë¡¤íƒ‘
  document.getElementById('scrollToTop').addEventListener('click', () => {
      window.scrollTo({ top:0, behavior:'smooth' });
    });

  // í…Œë§ˆ ì œê±°ë¨

    // ìŠ¤í¬ë¡¤ ì§„í–‰ë¥ 
    const bar = document.getElementById('scroll-progress');
    function updateBar() {
      const s = window.pageYOffset || document.documentElement.scrollTop;
      const dh = document.documentElement.scrollHeight - window.innerHeight;
      bar.style.width = dh ? (s/dh*100)+'%' : '0%';
    }
    window.addEventListener('scroll', updateBar);
    window.addEventListener('resize', updateBar);
    document.addEventListener('DOMContentLoaded', updateBar);

    // ê¸ˆ ì‹œì„¸ API & ë Œë”ë§
    const API_URL   = 'https://gold-price-proxy.hanoiosaka1.workers.dev/price';
    const CACHE_KEY = 'gold_price_cache_v3';
    const fmt = n => Number(n).toLocaleString('ko-KR');
    function getCache() {
      try { return JSON.parse(localStorage.getItem(CACHE_KEY)); }
      catch { return null; }
    }
    function setCache(d) {
      try { localStorage.setItem(CACHE_KEY, JSON.stringify(d)); }
      catch {}
    }
    function renderPrice(data) {
      const priceEl  = document.getElementById('mainPrice');
      const changeEl = document.getElementById('priceChange');
      const supplyEl = document.querySelector('.supply-price');
      const supplyCh = document.querySelector('.supply-footer .change-line');
      if (!data || !data.price) {
        priceEl.textContent = 'â€“';
        changeEl.textContent = '';
        changeEl.className = 'change-line';
      } else {
        priceEl.textContent = fmt(data.price) + 'ì›';
        const arrow = data.trend==='up' ? 'â–²' : data.trend==='down' ? 'â–¼' : '';
        const pct   = data.percent || '';
        const chg   = data.change ? fmt(data.change)+'ì›' : '';
        changeEl.textContent = [arrow, pct, chg].filter(Boolean).join(' ');
        changeEl.className = 'change-line' + (data.trend==='up'? ' up': data.trend==='down'? ' down':'');
      }
      if (supplyEl && supplyCh && data && data.price) {
        const supplyVal = Number(supplyEl.textContent.replace(/[^0-9]/g,''));
        if (supplyVal>0) {
          const rate   = (data.price - supplyVal)/data.price*100;
          const sign   = rate>0? 'â–¼': 'â–²';
          const absPct = Math.abs(rate).toFixed(2) + '%';
          supplyCh.textContent = `${sign} ${absPct}`;
          supplyCh.className = 'change-line down';
        } else {
          supplyCh.textContent = 'â€“';
          supplyCh.className = 'change-line';
        }
      }
    }
    async function loadGoldPrice() {
      const cache = getCache();
      if (cache) renderPrice(cache);
      try {
        const d = await fetch(API_URL, { cache:'no-store' }).then(r=>r.json());
        if (!d.price) throw 0;
        renderPrice(d);
        setCache(d);
      } catch {
        if (!cache) renderPrice(null);
      }
    }
    document.addEventListener('DOMContentLoaded', loadGoldPrice);

    // Section2: Carousel + ì„¤ëª…ê¸€ ìë™ ìƒì„±
    // â€” ìµœëŒ€ 20ê°œ, VISIBLE_COUNTë§Œí¼ë§Œ í‘œì‹œ
    const MAX_ITEMS = 20;
    const VISIBLE_COUNT = 13; // 1~MAX_ITEMS ì‚¬ì´ì˜ ê°’ìœ¼ë¡œ ì¡°ì •í•˜ì„¸ìš”

  document.addEventListener('DOMContentLoaded', () => {
      const items = [
    { img: 'section_1.jpg',  descKey: 'carousel_desc_1' },
    { img: 'section_2.jpg',  descKey: 'carousel_desc_2' },
    { img: 'section_3.jpg',  descKey: 'carousel_desc_3' },
    { img: 'section_4.jpg',  descKey: 'carousel_desc_4' },
    { img: 'section_5.jpg',  descKey: 'carousel_desc_5' },
    { img: 'section_6.jpg',  descKey: 'carousel_desc_6' },
    { img: 'section_7.jpg',  descKey: 'carousel_desc_7' },
    { img: 'section_8.jpg',  descKey: 'carousel_desc_8' },
    { img: 'section_9.jpg',  descKey: 'carousel_desc_9' },
    { img: 'section_10.jpg', descKey: 'carousel_desc_10' },
    { img: 'section_11.jpg', descKey: 'carousel_desc_11' },
    { img: 'section_12.jpg', descKey: 'carousel_desc_12' },
    { img: 'section_13.jpg', descKey: 'carousel_desc_13' },
        { img: 'section_14.jpg', desc: '' },
        { img: 'section_15.jpg', desc: '' },
        { img: 'section_16.jpg', desc: '' },
        { img: 'section_17.jpg', desc: '' },
        { img: 'section_18.jpg', desc: '' },
        { img: 'section_19.jpg', desc: '' },
        { img: 'section_20.jpg', desc: '' }
      ];

      const track = document.getElementById('carousel-track');
      const count = Math.min(VISIBLE_COUNT, MAX_ITEMS, items.length);

      items.slice(0, count).forEach(item => {
        // ì´ë¯¸ì§€ì™€ ì„¤ëª… ëª¨ë‘ ìˆì„ ë•Œë§Œ ë Œë”ë§
        if (item.img) {
          const div = document.createElement('div');
          div.className = 'carousel-item';
          const imgEl = document.createElement('img');
          imgEl.src = `img/${item.img}`;
          const desc = (window.GSApp? GSApp.t(item.descKey): '') || '';
          if(desc){ imgEl.alt = desc; }
          const p = document.createElement('p');
          p.setAttribute('data-i18n', item.descKey);
          p.textContent = desc || '';
          div.append(imgEl, p);
          track.append(div);
        }
      });

  // ë¬´í•œ ë£¨í”„ë¥¼ ìœ„í•´ ë³µì œ
  track.innerHTML += track.innerHTML;
  if(window.GSApp) GSApp.applyLang();
    });

    // ë¹„ë””ì˜¤ ìë™ì¬ìƒì„ ìœ„í•œ Intersection Observer
    document.addEventListener('DOMContentLoaded', () => {
      const videos = document.querySelectorAll('video');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const video = entry.target;
          if (entry.isIntersecting) {
            video.play().catch(e => console.log('Video autoplay blocked:', e));
          } else {
            video.pause();
          }
        });
      }, { threshold: 0.5 });

      videos.forEach(video => {
        observer.observe(video);
        
        // ë¹„ë””ì˜¤ ë¡œë”© ê°œì„  ë° ìƒíƒœ ëª¨ë‹ˆí„°ë§
        video.addEventListener('loadstart', () => {
          console.log('Video loading started:', video.src);
        });
        video.addEventListener('canplay', () => {
          console.log('Video can play:', video.src);
          // canplay ì´ë²¤íŠ¸ ì‹œ ìë™ ì¬ìƒ ì‹œë„
          if (!video.paused) return;
          video.play().catch(e => {
            console.log('Autoplay blocked, will retry on user interaction:', e);
          });
        });
        video.addEventListener('error', (e) => {
          console.error('Video error:', e, video.src);
          // ì—ëŸ¬ ë°œìƒ ì‹œ ì¬ì‹œë„
          setTimeout(() => {
            video.load();
          }, 2000);
        });
        
        // ì¦‰ì‹œ ë¡œë“œ ì‹œì‘
        video.load();
        
        // í´ë¦­ ì‹œ ìŒì†Œê±° í•´ì œ/ë‹¤ì‹œ ìŒì†Œê±° í† ê¸€
        video.addEventListener('click', (e) => {
          e.preventDefault();
          // ëª¨ë“  ë¹„ë””ì˜¤ë¥¼ ìŒì†Œê±° ìƒíƒœë¡œ ë§Œë“¤ê¸°
          videos.forEach(v => v.muted = true);
          // í´ë¦­ëœ ë¹„ë””ì˜¤ë§Œ ìŒì†Œê±° í•´ì œ
          video.muted = !video.muted;
          // í´ë¦­ ì‹œ ì¬ìƒ ë³´ì¥
          video.play().catch(() => {});
        });
      });
    });

    // iOS ë° ë¸Œë¼ìš°ì € í˜¸í™˜ì„±ì„ ìœ„í•œ ë¹„ë””ì˜¤ ì¬ìƒ ì¬ì‹œë„ (ê°•í™”ëœ ë²„ì „)
    const vids = document.querySelectorAll("video");
    function tryPlayAll(){
      vids.forEach(v=>{
        if (v.paused) {
          const p = v.play();
          if(p && p.catch){ 
            p.catch((error) => {
              console.log('Video play failed, will retry on next interaction:', error);
            }); 
          }
        }
      });
    }
    
    // ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ì—ì„œ ì¬ìƒ ì‹œë„
    window.addEventListener("load", tryPlayAll);
    window.addEventListener("pointerdown", tryPlayAll, {once:true});
    window.addEventListener("touchstart", tryPlayAll, {once:true});
    window.addEventListener("click", tryPlayAll, {once:true});
    
    // í˜ì´ì§€ê°€ ë³´ì—¬ì§ˆ ë•Œë§ˆë‹¤ ì¬ìƒ ì‹œë„
    document.addEventListener("visibilitychange", () => {
      if (!document.hidden) {
        setTimeout(tryPlayAll, 100);
      }
    });

    // (i18n & user nav handled by app.js) â€” ë³´ì¡° ë³´ì¥ ë¡œì§
    document.addEventListener('DOMContentLoaded', () => {
      // app.js ë¹„ë™ê¸° ì´ˆê¸°í™” í›„ ì‚¬ìš©ì ë²„íŠ¼ ê°•ì œ ì¬êµ¬ì„± (ì§€ì—° ë³´ì¥)
      function safeBuild(){
        if(window.GSApp && typeof window.GSApp.buildUserNav === 'function'){
          window.GSApp.buildUserNav();
        }
      }
      safeBuild();
      setTimeout(safeBuild, 300);
      setTimeout(safeBuild, 1000);
  // í…Œë§ˆ ê¸°ëŠ¥ ì‚­ì œë¨
    });
  </script>
</body>
</html>
